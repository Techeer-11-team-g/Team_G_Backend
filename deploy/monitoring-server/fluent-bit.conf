[SERVICE]
    Flush         1
    Log_Level     info
    Daemon        off
    Parsers_File  parsers.conf

# Collect logs via HTTP (from other servers)
[INPUT]
    Name        http
    Listen      0.0.0.0
    Port        8888
    Tag         logs

# Output to OpenSearch
[OUTPUT]
    Name            opensearch
    Match           *
    Host            SEARCH_SERVER_PRIVATE_IP
    Port            9200
    Index           logs
    Type            _doc
    Logstash_Format On
    Logstash_Prefix logs
    Suppress_Type_Name On
    tls             Off
    Retry_Limit     False

# Output to stdout for debugging
[OUTPUT]
    Name   stdout
    Match  *
    Format json_lines
